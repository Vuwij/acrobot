// automatically generated by arduino-cmake
#line 1 "/home/vuwij/catkin_ws/src/acrobot/src/acrobot/acrobot.ino"
#include <Arduino.h>
#include <Wire.h>
#include <Adafruit_Sensor.h>
#include <Adafruit_BNO055.h>
#include <utility/imumaths.h>
#include "Timer.h"

#line 10 "/home/vuwij/catkin_ws/src/acrobot/src/acrobot/cmake-build-debug/acrobot_acrobot.ino.cpp"
#include "Arduino.h"

//=== START Forward: /home/vuwij/catkin_ws/src/acrobot/src/acrobot/main.ino
 void setup(void) ;
 void setup(void) ;
 void loop(void) ;
 void loop(void) ;
 void printEvent(sensors_event_t *event) ;
 void printEvent(sensors_event_t *event) ;
//=== END Forward: /home/vuwij/catkin_ws/src/acrobot/src/acrobot/main.ino

//=== START Forward: /home/vuwij/catkin_ws/src/acrobot/src/acrobot/acrobot.ino
 void setup(void) ;
 void setup(void) ;
 void loop(void) ;
 void loop(void) ;
 void printEvent(sensors_event_t *event) ;
 void printEvent(sensors_event_t *event) ;
//=== END Forward: /home/vuwij/catkin_ws/src/acrobot/src/acrobot/acrobot.ino
#line 6 "/home/vuwij/catkin_ws/src/acrobot/src/acrobot/acrobot.ino"


Timer t;
uint16_t BNO055_SAMPLERATE_DELAY_MS = 100;

Adafruit_BNO055 bno1 = Adafruit_BNO055(55, 0x28);
Adafruit_BNO055 bno2 = Adafruit_BNO055(55, 0x29);

void setup(void) {
    Serial.begin(115200);

    // Check if sensors exists
    if (!bno1.begin()) {
        Serial.print("Ooops, no BNO055 detected ... Check your wiring or I2C ADDR!");
        while (1);
    }
    if (!bno2.begin()) {
        Serial.print("Ooops, no BNO055 detected ... Check your wiring or I2C ADDR!");
        while (1);
    }

    delay(1000);
}

void loop(void) {
    //could add VECTOR_ACCELEROMETER, VECTOR_MAGNETOMETER,VECTOR_GRAVITY...
    sensors_event_t orientationData, angVelocityData, linearAccelData;
    bno1.getEvent(&orientationData, Adafruit_BNO055::VECTOR_EULER);
    bno1.getEvent(&angVelocityData, Adafruit_BNO055::VECTOR_GYROSCOPE);
    bno1.getEvent(&linearAccelData, Adafruit_BNO055::VECTOR_LINEARACCEL);

    printEvent(&orientationData);
    printEvent(&angVelocityData);
    printEvent(&linearAccelData);

    int8_t boardTemp = bno.getTemp();
    Serial.print(F("temperature: "));
    Serial.println(boardTemp);


    delay(BNO055_SAMPLERATE_DELAY_MS);
}

void printEvent(sensors_event_t *event) {
    Serial.println();
    Serial.print(event->type);
    double x = -1000000, y = -1000000, z = -1000000; //dumb values, easy to spot problem
    if (event->type == SENSOR_TYPE_ACCELEROMETER) {
        x = event->acceleration.x;
        y = event->acceleration.y;
        z = event->acceleration.z;
    } else if (event->type == SENSOR_TYPE_ORIENTATION) {
        x = event->orientation.x;
        y = event->orientation.y;
        z = event->orientation.z;
    } else if (event->type == SENSOR_TYPE_MAGNETIC_FIELD) {
        x = event->magnetic.x;
        y = event->magnetic.y;
        z = event->magnetic.z;
    } else if ((event->type == SENSOR_TYPE_GYROSCOPE) || (event->type == SENSOR_TYPE_ROTATION_VECTOR)) {
        x = event->gyro.x;
        y = event->gyro.y;
        z = event->gyro.z;
    }

    Serial.print(": x= ");
    Serial.print(x);
    Serial.print(" | y= ");
    Serial.print(y);
    Serial.print(" | z= ");
    Serial.println(z);
}

//=== START : /home/vuwij/catkin_ws/src/acrobot/src/acrobot/main.ino
#line 1 "/home/vuwij/catkin_ws/src/acrobot/src/acrobot/main.ino"
#include <Wire.h>
#include <Adafruit_Sensor.h>
#include <Adafruit_BNO055.h>
#include <utility/imumaths.h>
#include "Timer.h"
#include <Stepper.h>

Timer t;
uint16_t BNO055_SAMPLERATE_DELAY_MS = 100;

Adafruit_BNO055 bno1 = Adafruit_BNO055(55, 0x28);
Adafruit_BNO055 bno2 = Adafruit_BNO055(55, 0x29);

void setup(void) {
    Serial.begin(115200);

    // Check if sensors exists
    if (!bno1.begin()) {
        Serial.print("Ooops, no BNO055 detected ... Check your wiring or I2C ADDR!");
        while (1);
    }
    if (!bno2.begin()) {
        Serial.print("Ooops, no BNO055 detected ... Check your wiring or I2C ADDR!");
        while (1);
    }

    delay(1000);
}

void loop(void) {
    //could add VECTOR_ACCELEROMETER, VECTOR_MAGNETOMETER,VECTOR_GRAVITY...
    sensors_event_t orientationData, angVelocityData, linearAccelData;
    bno.getEvent(&orientationData, Adafruit_BNO055::VECTOR_EULER);
    bno.getEvent(&angVelocityData, Adafruit_BNO055::VECTOR_GYROSCOPE);
    bno.getEvent(&linearAccelData, Adafruit_BNO055::VECTOR_LINEARACCEL);

    printEvent(&orientationData);
    printEvent(&angVelocityData);
    printEvent(&linearAccelData);

    int8_t boardTemp = bno.getTemp();
    Serial.print(F("temperature: "));
    Serial.println(boardTemp);


    delay(BNO055_SAMPLERATE_DELAY_MS);
}

void printEvent(sensors_event_t *event) {
    Serial.println();
    Serial.print(event->type);
    double x = -1000000, y = -1000000, z = -1000000; //dumb values, easy to spot problem
    if (event->type == SENSOR_TYPE_ACCELEROMETER) {
        x = event->acceleration.x;
        y = event->acceleration.y;
        z = event->acceleration.z;
    } else if (event->type == SENSOR_TYPE_ORIENTATION) {
        x = event->orientation.x;
        y = event->orientation.y;
        z = event->orientation.z;
    } else if (event->type == SENSOR_TYPE_MAGNETIC_FIELD) {
        x = event->magnetic.x;
        y = event->magnetic.y;
        z = event->magnetic.z;
    } else if ((event->type == SENSOR_TYPE_GYROSCOPE) || (event->type == SENSOR_TYPE_ROTATION_VECTOR)) {
        x = event->gyro.x;
        y = event->gyro.y;
        z = event->gyro.z;
    }

    Serial.print(": x= ");
    Serial.print(x);
    Serial.print(" | y= ");
    Serial.print(y);
    Serial.print(" | z= ");
    Serial.println(z);
}

//=== END : /home/vuwij/catkin_ws/src/acrobot/src/acrobot/main.ino
